<html>

<body>
  <div style="position:fixed;top:10px;right:10px;z-index:9999;display:flex;gap:10px;">
    <button onclick="exportData()"
      style="padding:10px 20px;background:#4CAF50;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:bold;">üìã
      Export JSON</button>
    <button onclick="clearLocalStorage();location.reload();"
      style="padding:10px 20px;background:#f44336;color:white;border:none;border-radius:5px;cursor:pointer;font-weight:bold;">üóëÔ∏è
      Reset</button>
  </div>
  <script src="https://balkan.app/js/familytree.js"></script>
  <div id="tree" />
  <script>

    var family = new FamilyTree(document.getElementById("tree"), {
      mouseScrool: FamilyTree.none,
      mode: 'dark',
      template: 'hugo',
      nodeBinding: {
        field_0: "name",
        field_1: 'born',
        img_0: 'photo'
      },
      nodeMenu: {
        edit: { text: 'Edit' },
        details: { text: 'Details' },
      },
      nodeTreeMenu: true,
      roots: [],
      editForm: {
        titleBinding: "name",
        photoBinding: "photo",
        addMoreBtn: 'Add element',
        addMore: 'Add more elements',
        addMoreFieldName: 'Element name',
        generateElementsFromFields: false,
        elements: [
          { type: 'textbox', label: 'Full Name', binding: 'name' },
          { type: 'textbox', label: 'Description', binding: 'description' },
          { type: 'textbox', label: 'Email Address', binding: 'email' },
          [
            { type: 'textbox', label: 'Phone', binding: 'phone' },
            { type: 'date', label: 'Date Of Birth', binding: 'born' }
          ],
          [
            { type: 'select', options: [{ value: 'bg', text: 'Vi·ªát Nam' }], label: 'Country', binding: 'country' },
            { type: 'textbox', label: 'City', binding: 'city' },
          ],
          { type: 'textbox', label: 'Photo Url', binding: 'photo', btn: 'Upload' },
        ]
      },
      nodes: []
    });

    family.on('field', function (sender, args) {
      if (args.name == 'born') {
        var date = new Date(args.value);
        // args.value = date.toLocaleDateString();
      }
    });

    // H√†m xu·∫•t data ra console - g·ªçi exportData() trong console
    function exportData() {
      var nodes = family.config.nodes;
      // console.log('=== FAMILY TREE DATA ===');
      console.log(JSON.stringify(nodes, null, 2));
      // console.log('========================');
      // console.log('Copy JSON ·ªü tr√™n v√† paste v√†o family.load([...]) ƒë·ªÉ l∆∞u l·∫°i!');
      return nodes;
    }

    // Hi·ªÉn th·ªã h∆∞·ªõng d·∫´n khi load trang
    console.log('üìå ƒê·ªÉ xu·∫•t data, g√µ: exportData()');
    console.log('üìå Ho·∫∑c nh·∫•n n√∫t "Export JSON" tr√™n trang');
    console.log('üìå Data t·ª± ƒë·ªông l∆∞u v√†o localStorage!');

    // AUTO-SAVE: L∆∞u v√†o localStorage m·ªói khi c√≥ thay ƒë·ªïi
    family.onUpdateNode(function (args) {
      saveToLocalStorage();
    });

    function saveToLocalStorage() {
      var nodes = family.config.nodes;
      localStorage.setItem('familyTreeData', JSON.stringify(nodes));
      console.log('‚úÖ ƒê√£ auto-save v√†o localStorage!');
    }

    function clearLocalStorage() {
      localStorage.removeItem('familyTreeData');
      console.log('üóëÔ∏è ƒê√£ x√≥a data trong localStorage!');
    }

    // Default data
    var defaultData =
      [
        {
          "id": "gen0",
          "name": "Mai VƒÉn Sƒ©",
          "gender": "male",
          "born": "",
          "ddate": "",
          "description": "s",
          "email": "",
          "phone": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_bmod"
          ]
        },
        {
          "pids": [
            "gen0"
          ],
          "gender": "female",
          "id": "_bmod",
          "name": "Th√°i Nguy·ªát C·∫ßm",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_bmod",
          "fid": "gen0",
          "gender": "male",
          "id": "_vqmy",
          "name": "Mai C√¥ng Tr·ª©",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_97xm"
          ]
        },
        {
          "pids": [
            "_vqmy"
          ],
          "gender": "female",
          "id": "_97xm",
          "name": "Tr·∫ßn Th·ªã T∆∞",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_97xm",
          "fid": "_vqmy",
          "gender": "male",
          "id": "_6vm5",
          "name": "Mai Th√†nh Ph∆∞∆°ng",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_qjgn"
          ]
        },
        {
          "mid": "_97xm",
          "fid": "_vqmy",
          "gender": "female",
          "id": "_0i84",
          "name": "Mai H·∫£o",
          "description": "C√¥ Ba H·∫£o",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_97xm",
          "fid": "_vqmy",
          "gender": "female",
          "id": "_yiqr",
          "name": "Mai Th·ªã Lang",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_95kp"
          ]
        },
        {
          "mid": "_97xm",
          "fid": "_vqmy",
          "gender": "female",
          "id": "_suqv",
          "name": "Mai Th·ªã Ph√∫c",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_mszv"
          ]
        },
        {
          "mid": "_97xm",
          "fid": "_vqmy",
          "gender": "female",
          "id": "_aj2h",
          "name": "Mai Th·ªã Di·ªáu",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_8qi8"
          ]
        },
        {
          "mid": "_97xm",
          "fid": "_vqmy",
          "gender": "male",
          "id": "_nxrz",
          "name": "Mai Th√†nh An",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_aitj"
          ]
        },
        {
          "pids": [
            "_6vm5"
          ],
          "gender": "female",
          "id": "_qjgn",
          "name": "B√† Ho·∫£nh",
          "description": "B√°c Hai",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_qjgn",
          "fid": "_6vm5",
          "gender": "male",
          "id": "_czj4",
          "name": "Mai Ch√≠ H∆∞·ªõng",
          "description": "Anh Hai H∆∞·ªõng",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_dvjc"
          ]
        },
        {
          "mid": "_qjgn",
          "fid": "_6vm5",
          "gender": "male",
          "id": "_6rl8",
          "name": "Mai Ch√≠ ƒê·∫°t",
          "description": "Anh Ba ƒê·∫°t",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_f66w"
          ]
        },
        {
          "mid": "_qjgn",
          "fid": "_6vm5",
          "gender": "female",
          "id": "_xtze",
          "name": "Mai Minh Hi·∫øu",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_hecu"
          ]
        },
        {
          "mid": "_qjgn",
          "fid": "_6vm5",
          "gender": "female",
          "id": "_hg6g",
          "name": "Mai Minh ƒêi·ªÅn",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_xvyz"
          ]
        },
        {
          "mid": "_qjgn",
          "fid": "_6vm5",
          "gender": "male",
          "id": "_4szw",
          "name": "Mai Ch√≠ Trung",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_yiqr"
          ],
          "gender": "male",
          "id": "_95kp",
          "name": "D∆∞·ª£ng T∆∞ - Tu·∫•n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_yiqr",
          "fid": "_95kp",
          "gender": "female",
          "id": "_lpyf",
          "name": "Ch·ªã Hai Qu√Ωt",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_cakk"
          ]
        },
        {
          "mid": "_yiqr",
          "fid": "_95kp",
          "gender": "male",
          "id": "_9cja",
          "name": "Anh Ba Khanh",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_43zc"
          ]
        },
        {
          "mid": "_95kp",
          "fid": "_yiqr",
          "gender": "female",
          "id": "_csas",
          "name": "Ch·ªã Di·ªÖm",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_95kp",
          "fid": "_yiqr",
          "gender": "male",
          "id": "_xup2",
          "name": "Anh Kh√°nh",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_75ve"
          ]
        },
        {
          "pids": [
            "_suqv"
          ],
          "gender": "male",
          "id": "_mszv",
          "name": "Nguy·ªÖn Ho√†i T√¢m",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_suqv",
          "fid": "_mszv",
          "gender": "male",
          "id": "_1o2l",
          "name": "Nguy·ªÖn Ho√†i ƒê·ª©c",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_suqv",
          "fid": "_mszv",
          "gender": "female",
          "id": "_cr00",
          "name": "Nguy·ªÖn Ho√†i Xu√¢n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_suqv",
          "fid": "_mszv",
          "gender": "female",
          "id": "_qvjn",
          "name": "Nguy·ªÖn Xu√¢n Mai",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_aj2h"
          ],
          "gender": "male",
          "id": "_8qi8",
          "name": "D∆∞·ª£ng NƒÉm",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_aj2h",
          "fid": "_8qi8",
          "gender": "male",
          "id": "_ktdx",
          "name": "Nguy·ªÖn Th√†nh Nam",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_aj2h",
          "fid": "_8qi8",
          "gender": "female",
          "id": "_lm99",
          "name": "Nguy·ªÖn Th·ªã √Ånh Chi",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_nxrz"
          ],
          "gender": "female",
          "id": "_aitj",
          "name": "Nguy·ªÖn Th·ªã L·ªá Hoa",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "fid": "_s5d1",
          "mid": "_hex6"
        },
        {
          "gender": "male",
          "id": "_s5d1",
          "name": "Nguy·ªÖn VƒÉn L≈©y",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_hex6"
          ]
        },
        {
          "gender": "female",
          "pids": [
            "_s5d1"
          ],
          "id": "_hex6",
          "name": "Nguy·ªÖn Th·ªã Ng·∫´u",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_nxrz",
          "fid": "_aitj",
          "gender": "female",
          "id": "_ix4h",
          "name": "Mai Th·ª•y Th√∫y An",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_bwed"
          ]
        },
        {
          "mid": "_aitj",
          "fid": "_nxrz",
          "gender": "male",
          "id": "_n4o9",
          "name": "Mai Th√†nh Duy An",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_4a3k"
          ]
        },
        {
          "pids": [
            "_czj4"
          ],
          "gender": "female",
          "id": "_dvjc",
          "name": "Ch·ªã Hai L√™",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_dvjc",
          "fid": "_czj4",
          "gender": "male",
          "id": "_w4zj",
          "name": "Mai Ch√≠ Duy",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_dvjc",
          "fid": "_czj4",
          "gender": "female",
          "id": "_52ge",
          "name": "Mai Y·∫øn Nhi",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_6rl8"
          ],
          "gender": "female",
          "id": "_f66w",
          "name": "Ch·ªã Ba √äm",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_f66w",
          "fid": "_6rl8",
          "gender": "female",
          "id": "_y4hp",
          "name": "Mai Minh Nguy·ªát",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_f66w",
          "fid": "_6rl8",
          "gender": "female",
          "id": "_mdga",
          "name": "Mai Ng·ªçc H∆∞∆°ng",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_xtze"
          ],
          "gender": "male",
          "id": "_hecu",
          "name": "Anh T∆∞ Nh√¢n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "pids": [
            "_hg6g"
          ],
          "gender": "male",
          "id": "_xvyz",
          "name": "Anh NƒÉm Nhu·∫≠n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_hg6g",
          "fid": "_xvyz",
          "gender": "male",
          "id": "_d614",
          "name": "√Åi",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_lpyf"
          ],
          "gender": "male",
          "id": "_cakk",
          "name": "Anh Hai",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "pids": [
            "_9cja"
          ],
          "gender": "female",
          "id": "_43zc",
          "name": "Ch·ªã Ba L·ªá",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "pids": [
            "_xup2"
          ],
          "gender": "female",
          "id": "_75ve",
          "name": "Ch·ªã Ph∆∞·ªõc",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "pids": [
            "_ix4h"
          ],
          "gender": "male",
          "id": "_bwed",
          "name": "Nguy·ªÖn Y ·∫®n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "mid": "_5feu",
          "fid": "_dp5f"
        },
        {
          "mid": "_ix4h",
          "fid": "_bwed",
          "gender": "female",
          "id": "_yzp1",
          "name": "An Thuy√™n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_ix4h",
          "fid": "_bwed",
          "gender": "male",
          "id": "_hw9c",
          "name": "T·∫•n Khoa",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_ix4h",
          "fid": "_bwed",
          "gender": "female",
          "id": "_1fgi",
          "name": "N·∫øp",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_ix4h",
          "fid": "_bwed",
          "gender": "female",
          "id": "_b5m3",
          "name": "Na",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_ix4h",
          "fid": "_bwed",
          "gender": "male",
          "id": "_8vlb",
          "name": "√öt Em",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_ix4h",
          "fid": "_bwed",
          "gender": "male",
          "id": "_4vwz",
          "name": "√öt ƒê·ªß",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_n4o9"
          ],
          "gender": "female",
          "id": "_4a3k",
          "name": "Tr·∫ßn Th·ªã Ph∆∞∆°ng Thi",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "mid": "_67my"
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "female",
          "id": "_1y9f",
          "name": "Nguy·ªÖn Ng·ªçc Lang",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_fc52"
          ]
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "male",
          "id": "_pewu",
          "name": "Nguy·ªÖn Ng·ªçc L·ªÖ",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_ds11"
          ]
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "male",
          "id": "_s1ww",
          "name": "Nguy·ªÖn Ng·ªçc Lu·∫≠n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_p6ng"
          ]
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "female",
          "id": "_iazs",
          "name": "Nguy·ªÖn Ng·ªçc Loan",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_8bnp"
          ]
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "female",
          "id": "_utwp",
          "name": "Nguy·ªÖn Ng·ªçc Li·ªÖu",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "male",
          "id": "_kyvl",
          "name": "C·∫≠u T√°m",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "female",
          "id": "_op6i",
          "name": "Nguy·ªÖn Th·ªã H∆∞∆°ng Lan",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_hex6",
          "fid": "_s5d1",
          "gender": "female",
          "id": "_18qb",
          "name": "Nguy·ªÖn Th·ªã Minh L√Ω",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_c7j3"
          ]
        },
        {
          "pids": [
            "_1y9f"
          ],
          "gender": "male",
          "id": "_fc52",
          "name": "L√™ Th·∫ø Ho√†ng",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_1y9f",
          "fid": "_fc52",
          "gender": "male",
          "id": "_mozp",
          "name": "L√™ B·∫£o Ho√†ng",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_sais"
          ]
        },
        {
          "pids": [
            "_mozp"
          ],
          "gender": "female",
          "id": "_sais",
          "name": "H·ªì Th√πy Oanh",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_mozp",
          "fid": "_sais",
          "gender": "male",
          "id": "_dsll",
          "name": "BULL",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_mozp",
          "fid": "_sais",
          "gender": "male",
          "id": "_ura4",
          "name": "JERRY",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_pewu"
          ],
          "gender": "female",
          "id": "_ds11",
          "name": "M·ª£ T∆∞",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_ds11",
          "fid": "_pewu",
          "gender": "female",
          "id": "_medl",
          "name": "Nguy·ªÖn Th√∫y Lam",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_s1ww"
          ],
          "gender": "female",
          "id": "_p6ng",
          "name": "M·ª£ NƒÉm - B√≠ch",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_p6ng",
          "fid": "_s1ww",
          "gender": "male",
          "id": "_06b1",
          "name": "Nguy·ªÖn Minh Lu√¢n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_s1ww",
          "fid": "_p6ng",
          "gender": "male",
          "id": "_vd6l",
          "name": "Nguy·ªÖn Minh V≈©",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_iazs"
          ],
          "gender": "male",
          "id": "_8bnp",
          "name": "L√™ VƒÉn H√πng",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_8bnp",
          "fid": "_iazs",
          "gender": "male",
          "id": "_umwb",
          "name": "L√™ Thanh Tu·∫•n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_iazs",
          "fid": "_8bnp",
          "gender": "male",
          "id": "_t6d5",
          "name": "L√™ T∆∞·ªùng Qu√¢n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "pids": [
            "_18qb"
          ],
          "gender": "male",
          "id": "_c7j3",
          "name": "Nguy·ªÖn Ng·ªçc Hi·∫øu",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_18qb",
          "fid": "_c7j3",
          "gender": "male",
          "id": "_zdwa",
          "name": "Nguy·ªÖn Ho√†ng S∆°n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_18qb",
          "fid": "_c7j3",
          "gender": "male",
          "id": "_s82a",
          "name": "Nguy·ªÖn Ho√†ng Nh√¢n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_43zc",
          "fid": "_9cja",
          "gender": "female",
          "id": "_zqlz",
          "name": "H·∫±ng",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_43zc",
          "fid": "_9cja",
          "gender": "male",
          "id": "_cqt3",
          "name": "Khang",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_75ve",
          "fid": "_xup2",
          "gender": "male",
          "id": "_ukt1",
          "name": "B·∫£o Duy",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "mid": "_75ve",
          "fid": "_xup2",
          "gender": "male",
          "id": "_1hwv",
          "name": "Em B·∫£o Duy",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "gender": "female",
          "id": "_67my",
          "name": "V√µ Th·ªã Mai",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        },
        {
          "gender": "female",
          "id": "_5feu",
          "name": "Nguy·ªÖn Th·ªã Hu·∫©n",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": [
            "_dp5f"
          ]
        },
        {
          "gender": "male",
          "pids": [
            "_5feu"
          ],
          "id": "_dp5f",
          "name": "Nguy·ªÖn T·∫•n L·ª±c",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": ""
        },
        {
          "mid": "_5feu",
          "fid": "_dp5f",
          "gender": "female",
          "id": "_5q4x",
          "name": "Nguy·ªÖn Hi·ªÅn Ni",
          "description": "",
          "email": "",
          "phone": "",
          "born": "",
          "country": "bg",
          "city": "",
          "photo": "",
          "pids": []
        }
      ];

    // Load t·ª´ localStorage n·∫øu c√≥, kh√¥ng th√¨ d√πng defaultData
    var savedData = localStorage.getItem('familyTreeData');
    var dataToLoad = savedData ? JSON.parse(savedData) : defaultData;

    family.load(dataToLoad);

    if (savedData) {
      console.log('üìÇ ƒê√£ load data t·ª´ localStorage!');
    } else {
      console.log('üìÇ D√πng data m·∫∑c ƒë·ªãnh.');
    }
  </script>
</body>

</html>